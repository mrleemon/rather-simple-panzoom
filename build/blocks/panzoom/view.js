(()=>{"use strict";var t=function(){return t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},t.apply(this,arguments)};function e(t,e){for(var n=t.length;n--;)if(t[n].pointerId===e.pointerId)return n;return-1}function n(t,o){var r;if(o.touches){r=0;for(var a=0,i=o.touches;a<i.length;a++){var c=i[a];c.pointerId=r++,n(t,c)}}else(r=e(t,o))>-1&&t.splice(r,1),t.push(o)}function o(t){for(var e,n=(t=t.slice(0)).pop();e=t.pop();)n={clientX:(e.clientX-n.clientX)/2+n.clientX,clientY:(e.clientY-n.clientY)/2+n.clientY};return n}function r(t){if(t.length<2)return 0;var e=t[0],n=t[1];return Math.sqrt(Math.pow(Math.abs(n.clientX-e.clientX),2)+Math.pow(Math.abs(n.clientY-e.clientY),2))}"undefined"!=typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}));var a={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};function i(t,e,n,o){a[t].split(" ").forEach((function(t){e.addEventListener(t,n,o)}))}function c(t,e,n){a[t].split(" ").forEach((function(t){e.removeEventListener(t,n)}))}"undefined"!=typeof window&&("function"==typeof window.PointerEvent?a={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:"function"==typeof window.TouchEvent&&(a={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));var l,u="undefined"!=typeof document&&!!document.documentMode;function s(){return l||(l=document.createElement("div").style)}var d=["webkit","moz","ms"],p={};function f(t){if(p[t])return p[t];var e=s();if(t in e)return p[t]=t;for(var n=t[0].toUpperCase()+t.slice(1),o=d.length;o--;){var r="".concat(d[o]).concat(n);if(r in e)return p[t]=r}}function m(t,e){return parseFloat(e[f(t)])||0}function h(t,e,n){void 0===n&&(n=window.getComputedStyle(t));var o="border"===e?"Width":"";return{left:m("".concat(e,"Left").concat(o),n),right:m("".concat(e,"Right").concat(o),n),top:m("".concat(e,"Top").concat(o),n),bottom:m("".concat(e,"Bottom").concat(o),n)}}function v(t,e,n){t.style[f(e)]=n}function g(t){var e=t.parentNode,n=window.getComputedStyle(t),o=window.getComputedStyle(e),r=t.getBoundingClientRect(),a=e.getBoundingClientRect();return{elem:{style:n,width:r.width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right,margin:h(t,"margin",n),border:h(t,"border",n)},parent:{style:o,width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right,padding:h(e,"padding",o),border:h(e,"border",o)}}}function y(t,e){return 1===t.nodeType&&" ".concat(function(t){return(t.getAttribute("class")||"").trim()}(t)," ").indexOf(" ".concat(e," "))>-1}var w=/^http:[\w\.\/]+svg$/,b={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(t){t.preventDefault(),t.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:function(t,e,n){var o=e.x,r=e.y,a=e.scale,i=e.isSVG;if(v(t,"transform","scale(".concat(a,") translate(").concat(o,"px, ").concat(r,"px)")),i&&u){var c=window.getComputedStyle(t).getPropertyValue("transform");t.setAttribute("transform",c)}},startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function x(l,u){if(!l)throw new Error("Panzoom requires an element as an argument");if(1!==l.nodeType)throw new Error("Panzoom requires an element with a nodeType of 1");if(!function(t){var e=t.ownerDocument,n=t.parentNode;return e&&n&&9===e.nodeType&&1===n.nodeType&&e.documentElement.contains(n)}(l))throw new Error("Panzoom should be called on elements that have been attached to the DOM");u=t(t({},b),u);var s=function(t){return w.test(t.namespaceURI)&&"svg"!==t.nodeName.toLowerCase()}(l),d=l.parentNode;d.style.overflow=u.overflow,d.style.userSelect="none",d.style.touchAction=u.touchAction,(u.canvas?d:l).style.cursor=u.cursor,l.style.userSelect="none",l.style.touchAction=u.touchAction,v(l,"transformOrigin","string"==typeof u.origin?u.origin:s?"0 0":"50% 50%");var p,m,h,x,E,S,M=0,z=0,A=1,O=!1;function P(t,e,n){if(!n.silent){var o=new CustomEvent(t,{detail:e});l.dispatchEvent(o)}}function C(t,e,n){var o={x:M,y:z,scale:A,isSVG:s,originalEvent:n};return requestAnimationFrame((function(){"boolean"==typeof e.animate&&(e.animate?function(t,e){var n=f("transform");v(t,"transition","".concat(n," ").concat(e.duration,"ms ").concat(e.easing))}(l,e):v(l,"transition","none")),e.setTransform(l,o,e),P(t,o,e),P("panzoomchange",o,e)})),o}function X(e,n,o,r){var a=t(t({},u),r),i={x:M,y:z,opts:a};if(!a.force&&(a.disablePan||a.panOnlyWhenZoomed&&A===a.startScale))return i;if(e=parseFloat(e),n=parseFloat(n),a.disableXAxis||(i.x=(a.relative?M:0)+e),a.disableYAxis||(i.y=(a.relative?z:0)+n),a.contain){var c=g(l),s=c.elem.width/A,d=c.elem.height/A,p=s*o,f=d*o,m=(p-s)/2,h=(f-d)/2;if("inside"===a.contain){var v=(-c.elem.margin.left-c.parent.padding.left+m)/o,y=(c.parent.width-p-c.parent.padding.left-c.elem.margin.left-c.parent.border.left-c.parent.border.right+m)/o;i.x=Math.max(Math.min(i.x,y),v);var w=(-c.elem.margin.top-c.parent.padding.top+h)/o,b=(c.parent.height-f-c.parent.padding.top-c.elem.margin.top-c.parent.border.top-c.parent.border.bottom+h)/o;i.y=Math.max(Math.min(i.y,b),w)}else"outside"===a.contain&&(v=(-(p-c.parent.width)-c.parent.padding.left-c.parent.border.left-c.parent.border.right+m)/o,y=(m-c.parent.padding.left)/o,i.x=Math.max(Math.min(i.x,y),v),w=(-(f-c.parent.height)-c.parent.padding.top-c.parent.border.top-c.parent.border.bottom+h)/o,b=(h-c.parent.padding.top)/o,i.y=Math.max(Math.min(i.y,b),w))}return a.roundPixels&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),i}function Y(e,n){var o=t(t({},u),n),r={scale:A,opts:o};if(!o.force&&o.disableZoom)return r;var a=u.minScale,i=u.maxScale;if(o.contain){var c=g(l),s=c.elem.width/A,d=c.elem.height/A;if(s>1&&d>1){var p=(c.parent.width-c.parent.border.left-c.parent.border.right)/s,f=(c.parent.height-c.parent.border.top-c.parent.border.bottom)/d;"inside"===u.contain?i=Math.min(i,p,f):"outside"===u.contain&&(a=Math.max(a,p,f))}}return r.scale=Math.min(Math.max(e,a),i),r}function L(t,e,n,o){var r=X(t,e,A,n);return M!==r.x||z!==r.y?(M=r.x,z=r.y,C("panzoompan",r.opts,o)):{x:M,y:z,scale:A,isSVG:s,originalEvent:o}}function T(t,e,n){var o=Y(t,e),r=o.opts;if(r.force||!r.disableZoom){t=o.scale;var a=M,i=z;if(r.focal){var c=r.focal;a=(c.x/t-c.x/A+M*t)/t,i=(c.y/t-c.y/A+z*t)/t}var l=X(a,i,t,{relative:!1,force:!0});return M=l.x,z=l.y,A=t,C("panzoomzoom",r,n)}}function N(e,n){var o=t(t(t({},u),{animate:!0}),n);return T(A*Math.exp((e?1:-1)*o.step),o)}function q(e,n,o,r){var a=g(l),i=a.parent.width-a.parent.padding.left-a.parent.padding.right-a.parent.border.left-a.parent.border.right,c=a.parent.height-a.parent.padding.top-a.parent.padding.bottom-a.parent.border.top-a.parent.border.bottom,u=n.clientX-a.parent.left-a.parent.padding.left-a.parent.border.left-a.elem.margin.left,d=n.clientY-a.parent.top-a.parent.padding.top-a.parent.border.top-a.elem.margin.top;s||(u-=a.elem.width/A/2,d-=a.elem.height/A/2);var p={x:u/i*(i*e),y:d/c*(c*e)};return T(e,t(t({},o),{animate:!1,focal:p}),r)}T(u.startScale,{animate:!1,force:!0}),setTimeout((function(){L(u.startX,u.startY,{animate:!1,force:!0})}));var W=[];function D(t){if(!function(t,e){for(var n=t;null!=n;n=n.parentNode)if(y(n,e.excludeClass)||e.exclude.indexOf(n)>-1)return!0;return!1}(t.target,u)){n(W,t),O=!0,u.handleStartEvent(t),p=M,m=z,P("panzoomstart",{x:M,y:z,scale:A,isSVG:s,originalEvent:t},u);var e=o(W);h=e.clientX,x=e.clientY,E=A,S=r(W)}}function I(t){if(O&&void 0!==p&&void 0!==m&&void 0!==h&&void 0!==x){n(W,t);var e=o(W),a=W.length>1,i=A;a&&(0===S&&(S=r(W)),q(i=Y((r(W)-S)*u.step/80+E).scale,e,{animate:!1},t)),a&&!u.pinchAndPan||L(p+(e.clientX-h)/i,m+(e.clientY-x)/i,{animate:!1},t)}}function V(t){1===W.length&&P("panzoomend",{x:M,y:z,scale:A,isSVG:s,originalEvent:t},u),function(t,n){if(n.touches)for(;t.length;)t.pop();else{var o=e(t,n);o>-1&&t.splice(o,1)}}(W,t),O&&(O=!1,p=m=h=x=void 0)}var G=!1;function Z(){G||(G=!0,i("down",u.canvas?d:l,D),i("move",document,I,{passive:!0}),i("up",document,V,{passive:!0}))}return u.noBind||Z(),{bind:Z,destroy:function(){G=!1,c("down",u.canvas?d:l,D),c("move",document,I),c("up",document,V)},eventNames:a,getPan:function(){return{x:M,y:z}},getScale:function(){return A},getOptions:function(){return function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(u)},handleDown:D,handleMove:I,handleUp:V,pan:L,reset:function(e){var n=t(t(t({},u),{animate:!0,force:!0}),e);A=Y(n.startScale,n).scale;var o=X(n.startX,n.startY,A,n);return M=o.x,z=o.y,C("panzoomreset",n)},resetStyle:function(){d.style.overflow="",d.style.userSelect="",d.style.touchAction="",d.style.cursor="",l.style.cursor="",l.style.userSelect="",l.style.touchAction="",v(l,"transformOrigin","")},setOptions:function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(u[e]=t[e]);(t.hasOwnProperty("cursor")||t.hasOwnProperty("canvas"))&&(d.style.cursor=l.style.cursor="",(u.canvas?d:l).style.cursor=u.cursor),t.hasOwnProperty("overflow")&&(d.style.overflow=t.overflow),t.hasOwnProperty("touchAction")&&(d.style.touchAction=t.touchAction,l.style.touchAction=t.touchAction)},setStyle:function(t,e){return v(l,t,e)},zoom:T,zoomIn:function(t){return N(!0,t)},zoomOut:function(t){return N(!1,t)},zoomToPoint:q,zoomWithWheel:function(e,n){e.preventDefault();var o=t(t(t({},u),n),{animate:!1}),r=(0===e.deltaY&&e.deltaX?e.deltaX:e.deltaY)<0?1:-1;return q(Y(A*Math.exp(r*o.step/3),o).scale,e,o,e)}}}x.defaultOptions=b,document.addEventListener("DOMContentLoaded",(function(t){document.querySelectorAll(".wp-block-occ-rather-simple-panzoom .panzoom-element").forEach((function(t){var e=x(t,{minScale:1.1,maxScale:5,startScale:1.1,animate:!0,duration:1e3,origin:"50% 0"}),n=t.parentElement.querySelector(".zoomin-button"),o=t.parentElement.querySelector(".zoomout-button");n.addEventListener("click",e.zoomIn),o.addEventListener("click",e.zoomOut),t.parentElement.addEventListener("wheel",(function(t){t.ctrlKey&&e.zoomWithWheel(t)}))}))}))})();