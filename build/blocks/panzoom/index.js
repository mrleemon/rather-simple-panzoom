(()=>{"use strict";var e,t={379:()=>{const e=window.wp.primitives,t=window.wp.blocks,n=JSON.parse('{"UU":"occ/rather-simple-panzoom"}'),o=window.wp.i18n,r=window.wp.components,a=window.wp.blockEditor,i=(window.wp.element,window.wp.compose);var s=function(){return s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,"undefined"!=typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}));var c,l="undefined"!=typeof document&&!!document.documentMode;function d(){return c||(c=document.createElement("div").style)}var p=["webkit","moz","ms"],u={};function m(e){if(u[e])return u[e];var t=d();if(e in t)return u[e]=e;for(var n=e[0].toUpperCase()+e.slice(1),o=p.length;o--;){var r="".concat(p[o]).concat(n);if(r in t)return u[e]=r}}function h(e,t){return parseFloat(t[m(e)])||0}function f(e,t,n){void 0===n&&(n=window.getComputedStyle(e));var o="border"===t?"Width":"";return{left:h("".concat(t,"Left").concat(o),n),right:h("".concat(t,"Right").concat(o),n),top:h("".concat(t,"Top").concat(o),n),bottom:h("".concat(t,"Bottom").concat(o),n)}}function v(e,t,n){e.style[m(t)]=n}function w(e){var t=e.parentNode,n=window.getComputedStyle(e),o=window.getComputedStyle(t),r=e.getBoundingClientRect(),a=t.getBoundingClientRect();return{elem:{style:n,width:r.width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right,margin:f(e,"margin",n),border:f(e,"border",n)},parent:{style:o,width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right,padding:f(t,"padding",o),border:f(t,"border",o)}}}var g={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};function x(e,t,n,o){g[e].split(" ").forEach((function(e){t.addEventListener(e,n,o)}))}function y(e,t,n){g[e].split(" ").forEach((function(e){t.removeEventListener(e,n)}))}function b(e,t){for(var n=e.length;n--;)if(e[n].pointerId===t.pointerId)return n;return-1}function z(e,t){var n;if(t.touches){n=0;for(var o=0,r=t.touches;o<r.length;o++){var a=r[o];a.pointerId=n++,z(e,a)}}else(n=b(e,t))>-1&&e.splice(n,1),e.push(t)}function j(e){for(var t,n=(e=e.slice(0)).pop();t=e.pop();)n={clientX:(t.clientX-n.clientX)/2+n.clientX,clientY:(t.clientY-n.clientY)/2+n.clientY};return n}function S(e){if(e.length<2)return 0;var t=e[0],n=e[1];return Math.sqrt(Math.pow(Math.abs(n.clientX-t.clientX),2)+Math.pow(Math.abs(n.clientY-t.clientY),2))}function E(e,t){return 1===e.nodeType&&" ".concat(function(e){return(e.getAttribute("class")||"").trim()}(e)," ").indexOf(" ".concat(t," "))>-1}"undefined"!=typeof window&&("function"==typeof window.PointerEvent?g={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:"function"==typeof window.TouchEvent&&(g={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));var M=/^http:[\w\.\/]+svg$/,O={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(e){e.preventDefault(),e.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:function(e,t,n){var o=t.x,r=t.y,a=t.scale,i=t.isSVG;if(v(e,"transform","scale(".concat(a,") translate(").concat(o,"px, ").concat(r,"px)")),i&&l){var s=window.getComputedStyle(e).getPropertyValue("transform");e.setAttribute("transform",s)}},startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function A(e,t){if(!e)throw new Error("Panzoom requires an element as an argument");if(1!==e.nodeType)throw new Error("Panzoom requires an element with a nodeType of 1");if(!function(e){for(var t=e;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}(e))throw new Error("Panzoom should be called on elements that have been attached to the DOM");t=s(s({},O),t);var n=function(e){return M.test(e.namespaceURI)&&"svg"!==e.nodeName.toLowerCase()}(e),o=e.parentNode;o.style.overflow=t.overflow,o.style.userSelect="none",o.style.touchAction=t.touchAction,(t.canvas?o:e).style.cursor=t.cursor,e.style.userSelect="none",e.style.touchAction=t.touchAction,v(e,"transformOrigin","string"==typeof t.origin?t.origin:n?"0 0":"50% 50%");var r,a,i,c,l,d,p=0,u=0,h=1,f=!1;function A(t,n,o){if(!o.silent){var r=new CustomEvent(t,{detail:n});e.dispatchEvent(r)}}function N(t,o,r){var a={x:p,y:u,scale:h,isSVG:n,originalEvent:r};return requestAnimationFrame((function(){"boolean"==typeof o.animate&&(o.animate?function(e,t){var n=m("transform");v(e,"transition","".concat(n," ").concat(t.duration,"ms ").concat(t.easing))}(e,o):v(e,"transition","none")),o.setTransform(e,a,o),A(t,a,o),A("panzoomchange",a,o)})),a}function C(n,o,r,a){var i=s(s({},t),a),c={x:p,y:u,opts:i};if(!i.force&&(i.disablePan||i.panOnlyWhenZoomed&&h===i.startScale))return c;if(n=parseFloat(n),o=parseFloat(o),i.disableXAxis||(c.x=(i.relative?p:0)+n),i.disableYAxis||(c.y=(i.relative?u:0)+o),i.contain){var l=w(e),d=l.elem.width/h,m=l.elem.height/h,f=d*r,v=m*r,g=(f-d)/2,x=(v-m)/2;if("inside"===i.contain){var y=(-l.elem.margin.left-l.parent.padding.left+g)/r,b=(l.parent.width-f-l.parent.padding.left-l.elem.margin.left-l.parent.border.left-l.parent.border.right+g)/r;c.x=Math.max(Math.min(c.x,b),y);var z=(-l.elem.margin.top-l.parent.padding.top+x)/r,j=(l.parent.height-v-l.parent.padding.top-l.elem.margin.top-l.parent.border.top-l.parent.border.bottom+x)/r;c.y=Math.max(Math.min(c.y,j),z)}else"outside"===i.contain&&(y=(-(f-l.parent.width)-l.parent.padding.left-l.parent.border.left-l.parent.border.right+g)/r,b=(g-l.parent.padding.left)/r,c.x=Math.max(Math.min(c.x,b),y),z=(-(v-l.parent.height)-l.parent.padding.top-l.parent.border.top-l.parent.border.bottom+x)/r,j=(x-l.parent.padding.top)/r,c.y=Math.max(Math.min(c.y,j),z))}return i.roundPixels&&(c.x=Math.round(c.x),c.y=Math.round(c.y)),c}function P(n,o){var r=s(s({},t),o),a={scale:h,opts:r};if(!r.force&&r.disableZoom)return a;var i=t.minScale,c=t.maxScale;if(r.contain){var l=w(e),d=l.elem.width/h,p=l.elem.height/h;if(d>1&&p>1){var u=(l.parent.width-l.parent.border.left-l.parent.border.right)/d,m=(l.parent.height-l.parent.border.top-l.parent.border.bottom)/p;"inside"===t.contain?c=Math.min(c,u,m):"outside"===t.contain&&(i=Math.max(i,u,m))}}return a.scale=Math.min(Math.max(n,i),c),a}function V(e,t,o,r){var a=C(e,t,h,o);return p!==a.x||u!==a.y?(p=a.x,u=a.y,N("panzoompan",a.opts,r)):{x:p,y:u,scale:h,isSVG:n,originalEvent:r}}function k(e,t,n){var o=P(e,t),r=o.opts;if(r.force||!r.disableZoom){e=o.scale;var a=p,i=u;if(r.focal){var s=r.focal;a=(s.x/e-s.x/h+p*e)/e,i=(s.y/e-s.y/h+u*e)/e}var c=C(a,i,e,{relative:!1,force:!0});return p=c.x,u=c.y,h=e,N("panzoomzoom",r,n)}}function H(e,n){var o=s(s(s({},t),{animate:!0}),n);return k(h*Math.exp((e?1:-1)*o.step),o)}function L(t,o,r,a){var i=w(e),c=i.parent.width-i.parent.padding.left-i.parent.padding.right-i.parent.border.left-i.parent.border.right,l=i.parent.height-i.parent.padding.top-i.parent.padding.bottom-i.parent.border.top-i.parent.border.bottom,d=o.clientX-i.parent.left-i.parent.padding.left-i.parent.border.left-i.elem.margin.left,p=o.clientY-i.parent.top-i.parent.padding.top-i.parent.border.top-i.elem.margin.top;n||(d-=i.elem.width/h/2,p-=i.elem.height/h/2);var u={x:d/c*(c*t),y:p/l*(l*t)};return k(t,s(s({},r),{animate:!1,focal:u}),a)}k(t.startScale,{animate:!1,force:!0}),setTimeout((function(){V(t.startX,t.startY,{animate:!1,force:!0})}));var X=[];function B(e){if(!function(e,t){for(var n=e;null!=n;n=n.parentNode)if(E(n,t.excludeClass)||t.exclude.indexOf(n)>-1)return!0;return!1}(e.target,t)){z(X,e),f=!0,t.handleStartEvent(e),r=p,a=u,A("panzoomstart",{x:p,y:u,scale:h,isSVG:n,originalEvent:e},t);var o=j(X);i=o.clientX,c=o.clientY,l=h,d=S(X)}}function Y(e){if(f&&void 0!==r&&void 0!==a&&void 0!==i&&void 0!==c){z(X,e);var n=j(X),o=X.length>1,s=h;o&&(0===d&&(d=S(X)),L(s=P((S(X)-d)*t.step/80+l).scale,n,{animate:!1},e)),o&&!t.pinchAndPan||V(r+(n.clientX-i)/s,a+(n.clientY-c)/s,{animate:!1},e)}}function _(e){1===X.length&&A("panzoomend",{x:p,y:u,scale:h,isSVG:n,originalEvent:e},t),function(e,t){if(t.touches)for(;e.length;)e.pop();else{var n=b(e,t);n>-1&&e.splice(n,1)}}(X,e),f&&(f=!1,r=a=i=c=void 0)}var T=!1;function Z(){T||(T=!0,x("down",t.canvas?o:e,B),x("move",document,Y,{passive:!0}),x("up",document,_,{passive:!0}))}return t.noBind||Z(),{bind:Z,destroy:function(){T=!1,y("down",t.canvas?o:e,B),y("move",document,Y),y("up",document,_)},eventNames:g,getPan:function(){return{x:p,y:u}},getScale:function(){return h},getOptions:function(){return function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(t)},handleDown:B,handleMove:Y,handleUp:_,pan:V,reset:function(e){var n=s(s(s({},t),{animate:!0,force:!0}),e);h=P(n.startScale,n).scale;var o=C(n.startX,n.startY,h,n);return p=o.x,u=o.y,N("panzoomreset",n)},resetStyle:function(){o.style.overflow="",o.style.userSelect="",o.style.touchAction="",o.style.cursor="",e.style.cursor="",e.style.userSelect="",e.style.touchAction="",v(e,"transformOrigin","")},setOptions:function(n){for(var r in void 0===n&&(n={}),n)n.hasOwnProperty(r)&&(t[r]=n[r]);(n.hasOwnProperty("cursor")||n.hasOwnProperty("canvas"))&&(o.style.cursor=e.style.cursor="",(t.canvas?o:e).style.cursor=t.cursor),n.hasOwnProperty("overflow")&&(o.style.overflow=n.overflow),n.hasOwnProperty("touchAction")&&(o.style.touchAction=n.touchAction,e.style.touchAction=n.touchAction)},setStyle:function(t,n){return v(e,t,n)},zoom:k,zoomIn:function(e){return H(!0,e)},zoomOut:function(e){return H(!1,e)},zoomToPoint:L,zoomWithWheel:function(e,n){e.preventDefault();var o=s(s(s({},t),n),{animate:!1}),r=(0===e.deltaY&&e.deltaX?e.deltaX:e.deltaY)<0?1:-1;return L(P(h*Math.exp(r*o.step/3),o).scale,e,o,e)}}}A.defaultOptions=O;const N=window.ReactJSXRuntime,C={from:[{type:"block",blocks:["core/image"],transform:e=>(0,t.createBlock)("occ/rather-simple-panzoom",{id:e.id,url:e.url,alt:e.alt})}],to:[{type:"block",blocks:["core/image"],transform:e=>(0,t.createBlock)("core/image",{id:e.id,url:e.url,alt:e.alt})}]},{UU:P}=n,V={icon:{src:(0,N.jsx)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,N.jsx)(e.Path,{d:"M15.5,2C18,2 20,4 20,6.5C20,7.38 19.75,8.21 19.31,8.9L22.39,12L21,13.39L17.88,10.32C17.19,10.75 16.37,11 15.5,11C13,11 11,9 11,6.5C11,4 13,2 15.5,2M15.5,4A2.5,2.5 0 0,0 13,6.5A2.5,2.5 0 0,0 15.5,9A2.5,2.5 0 0,0 18,6.5A2.5,2.5 0 0,0 15.5,4M7.5,14.5L4,19H18L13.5,13L10,17.5L7.5,14.5M20,20A2,2 0 0,1 18,22H4A2,2 0 0,1 2,20V6A2,2 0 0,1 4,4H9.5C9.18,4.77 9,5.61 9,6.5A6.5,6.5 0 0,0 15.5,13C16.18,13 16.84,12.89 17.46,12.7L20,15.24V20Z"})}),foreground:"#ff8a00"},edit:e=>{const t=(0,a.useBlockProps)(),{attributes:{url:n,id:s,alt:c},setAttributes:l}=e,d=e=>{l({url:e.url,id:e.id,alt:e.alt})},p=(0,i.useRefEffect)((e=>{var t=A(e,{minScale:1.1,maxScale:5,startScale:1.1,animate:!0,duration:1e3,origin:"50% 0"}),n=e.parentElement.querySelector(".zoomin-button"),o=e.parentElement.querySelector(".zoomout-button");return n.addEventListener("click",t.zoomIn),o.addEventListener("click",t.zoomOut),e.parentElement.addEventListener("wheel",(function(e){e.ctrlKey&&t.zoomWithWheel(e)})),()=>{t&&t.destroy()}}),[n]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(a.InspectorControls,{children:(0,N.jsx)(r.PanelBody,{title:(0,o.__)("Settings","rather-simple-panzoom")})}),(0,N.jsx)(a.BlockControls,{children:(0,N.jsx)(a.MediaReplaceFlow,{mediaId:s,mediaUrl:n,allowedTypes:["image"],accept:"image/*",onSelect:d,name:n?(0,o.__)("Replace Image","rather-simple-panzoom"):(0,o.__)("Add Image","rather-simple-panzoom")})}),(0,N.jsx)(a.MediaUploadCheck,{children:n?(0,N.jsx)("div",{...t,children:(0,N.jsxs)("div",{className:"panzoom-parent",children:[(0,N.jsx)("div",{className:"panzoom-element",ref:p,children:(0,N.jsx)("img",{className:`wp-image-${s}`,src:n,alt:c})}),(0,N.jsxs)("div",{className:"panzoom-buttons",children:[(0,N.jsxs)("button",{className:"zoomin-button",children:[(0,N.jsx)("span",{className:"screen-reader-text",children:(0,o.__)("Zoom In","rather-simple-panzoom")}),(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,N.jsx)("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"})})]}),(0,N.jsxs)("button",{className:"zoomout-button",children:[(0,N.jsx)("span",{className:"screen-reader-text",children:(0,o.__)("Zoom Out","rather-simple-panzoom")}),(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,N.jsx)("path",{d:"M19,13H5V11H19V13Z"})})]})]})]})}):(0,N.jsx)("div",{...t,children:(0,N.jsx)(a.MediaPlaceholder,{accept:"image/*",allowedTypes:["image"],onSelect:d,value:s,multiple:!1,handleUpload:!0,labels:{title:(0,o.__)("Panzoom Image","rather-simple-panzoom")}})})})]})},save:e=>{const{attributes:{url:t,id:n,alt:o}}=e,r=a.useBlockProps.save();return(0,N.jsx)("div",{...r,children:(0,N.jsxs)("div",{className:"panzoom-parent",children:[(0,N.jsx)("div",{className:"panzoom-element",children:(0,N.jsx)("img",{className:`wp-image-${n}`,src:t,alt:o})}),(0,N.jsxs)("div",{className:"panzoom-buttons",children:[(0,N.jsxs)("button",{className:"zoomin-button",children:[(0,N.jsx)("span",{className:"screen-reader-text",children:"Zoom In"}),(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,N.jsx)("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"})})]}),(0,N.jsxs)("button",{className:"zoomout-button",children:[(0,N.jsx)("span",{className:"screen-reader-text",children:"Zoom Out"}),(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,N.jsx)("path",{d:"M19,13H5V11H19V13Z"})})]})]})]})})},transforms:C};(0,t.registerBlockType)(P,V)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,r,a]=e[d],s=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,r,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={757:0,745:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,s,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var d=c(o)}for(t&&t(n);l<i.length;l++)a=i[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},n=globalThis.webpackChunkrather_simple_panzoom=globalThis.webpackChunkrather_simple_panzoom||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[745],(()=>o(379)));r=o.O(r)})();